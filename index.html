
<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Haus der Harmonie – Safe Feintuning</title>
  <style>
    body { margin: 0; overflow: hidden; }
    canvas { display: block; }
  </style>
</head>
<body>
<script src="https://cdn.jsdelivr.net/npm/three@0.150.1/build/three.min.js"></script>

<script>
const scene = new THREE.Scene();
scene.background = new THREE.Color(0xfafafa);

const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
camera.position.set(0, 5, 25);
camera.lookAt(0, 0, 0);

const renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

// Licht
const light = new THREE.DirectionalLight(0xffffff, 1);
light.position.set(10, 20, 10);
scene.add(light);

// Materialien
const whiteMaterial = new THREE.MeshStandardMaterial({ color: 0xffffff });
const glassMaterial = new THREE.MeshStandardMaterial({
  color: 0x88ccff,
  transparent: true,
  opacity: 0.4,
  roughness: 0.1,
  metalness: 0.5
});
const windowMaterial = new THREE.MeshStandardMaterial({ color: 0xffffff, transparent: true, opacity: 0.5 });
const doorMaterial = new THREE.MeshStandardMaterial({ color: 0x444444 });

// Plattform
const platform = new THREE.Mesh(
  new THREE.CylinderGeometry(14, 14, 1, 64),
  new THREE.MeshStandardMaterial({ color: 0xe0e0e0 })
);
platform.position.y = -1.25;
scene.add(platform);

// Halle
const hall = new THREE.Mesh(new THREE.CylinderGeometry(3, 3, 2, 32), whiteMaterial);
scene.add(hall);

// Dachrahmen
const roof = new THREE.Mesh(new THREE.CylinderGeometry(3.2, 3.2, 0.2, 32), new THREE.MeshStandardMaterial({ color: 0xcccccc }));
roof.position.y = 1.1;
scene.add(roof);

// Glaskuppel
const dome = new THREE.Mesh(
  new THREE.SphereGeometry(3.2, 32, 32, 0, Math.PI * 2, 0, Math.PI / 2),
  glassMaterial
);
dome.position.y = 1.2;
scene.add(dome);

// Hologramm (Kristall)
const holo = new THREE.Mesh(
  new THREE.OctahedronGeometry(0.7),
  new THREE.MeshStandardMaterial({ color: 0x00ffff, emissive: 0x0088ff, transparent: true, opacity: 0.6 })
);
holo.position.y = 1.7;
scene.add(holo);

// Säulen
const colGeo = new THREE.CylinderGeometry(0.1, 0.1, 2.5, 16);
const colMat = whiteMaterial;
for (let i = 0; i < 12; i++) {
  const a = (i / 12) * Math.PI * 2;
  const col = new THREE.Mesh(colGeo, colMat);
  col.position.set(Math.cos(a) * 2.9, 0, Math.sin(a) * 2.9);
  scene.add(col);
}

// Flügel
const themes = [
  "Liebe", "Wissen", "Gemeinschaft", "Geschichte", "Transformation"
];
const wingGeo = new THREE.BoxGeometry(8, 2.5, 2);
themes.forEach((theme, i) => {
  const angle = (i / 5) * Math.PI * 2;
  const wing = new THREE.Mesh(wingGeo, whiteMaterial);
  wing.position.set(Math.cos(angle) * 9, 0, Math.sin(angle) * 9);
  wing.rotation.y = -angle;
  scene.add(wing);

  const door = new THREE.Mesh(new THREE.BoxGeometry(0.6, 1.2, 0.1), doorMaterial);
  door.position.set(
    wing.position.x - Math.sin(angle) * 4.3,
    -0.1,
    wing.position.z - Math.cos(angle) * 4.3
  );
  scene.add(door);

  for (let j = -1; j <= 1; j += 2) {
    const window = new THREE.Mesh(new THREE.BoxGeometry(0.5, 0.5, 0.1), windowMaterial);
    window.position.set(
      wing.position.x + Math.sin(angle) * j * 1.5,
      0.5,
      wing.position.z + Math.cos(angle) * j * 0.9
    );
    scene.add(window);
  }
});

// Tempel-Eingang
const steps = new THREE.Mesh(new THREE.BoxGeometry(3, 0.5, 1.5), new THREE.MeshStandardMaterial({ color: 0xdddddd }));
steps.position.set(0, -1, 12.5);
scene.add(steps);

const portal = new THREE.Mesh(new THREE.BoxGeometry(1.2, 2, 0.1), new THREE.MeshStandardMaterial({ color: 0x666666 }));
portal.position.set(0, 0, 13);
scene.add(portal);

// Leuchtkugeln am Eingang
const bulbGeo = new THREE.SphereGeometry(0.2, 16, 16);
const bulbMat = new THREE.MeshStandardMaterial({ emissive: 0xffffcc, color: 0xffffaa });
const leftBulb = new THREE.Mesh(bulbGeo, bulbMat);
leftBulb.position.set(-0.7, 1, 13.1);
const rightBulb = new THREE.Mesh(bulbGeo, bulbMat);
rightBulb.position.set(0.7, 1, 13.1);
scene.add(leftBulb);
scene.add(rightBulb);

// Platzhalter-Tafel am Eingang
const sign = new THREE.Mesh(
  new THREE.BoxGeometry(5, 0.6, 0.1),
  new THREE.MeshStandardMaterial({ color: 0x222222 })
);
sign.position.set(0, 2.3, 12.5);
scene.add(sign);

// Steuerung
let isMouseDown = false;
let prevMouse = { x: 0, y: 0 };

document.addEventListener("mousedown", (e) => {
  isMouseDown = true;
  prevMouse.x = e.clientX;
  prevMouse.y = e.clientY;
});
document.addEventListener("mouseup", () => { isMouseDown = false; });
document.addEventListener("mousemove", (e) => {
  if (!isMouseDown) return;
  const dx = e.clientX - prevMouse.x;
  const dy = e.clientY - prevMouse.y;
  camera.position.x -= dx * 0.05;
  camera.position.y += dy * 0.05;
  camera.lookAt(0, 0, 0);
  prevMouse.x = e.clientX;
  prevMouse.y = e.clientY;
});
document.addEventListener("wheel", (e) => {
  camera.position.z += e.deltaY * 0.01;
});

function animate() {
  requestAnimationFrame(animate);
  renderer.render(scene, camera);
}
animate();

window.addEventListener("resize", () => {
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>
</body>
</html>
